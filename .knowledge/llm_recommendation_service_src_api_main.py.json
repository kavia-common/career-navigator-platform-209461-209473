{"is_source_file": true, "format": "Python", "description": "This file implements a FastAPI web service that provides skill recommendation generation. It includes data models for request and response schemas, a deterministic fallback generator, optional integration with OpenAI API, health check endpoints, and the main recommendation endpoint.", "external_files": [".env"], "external_methods": ["load_dotenv", "os.getenv", "httpx.Client", "uvicorn.run"], "published": ["health_check", "health_alias", "post_recommend"], "classes": [{"name": "RecommendRequest", "description": "Input payload for skill recommendation generation, including skill name, optional description, and proficiency level."}, {"name": "RecommendResponse", "description": "Structured response containing three steps, three resources, and two project ideas for skill improvement."}], "methods": [{"name": "RecommendResponse _deterministic_fallback(req: RecommendRequest)", "description": "Generates predictable recommendations based on input skill data, without external API calls.", "scope": "", "scopeKind": ""}, {"name": "bool _openai_enabled()", "description": "Checks if OpenAI API key is configured via environment variable.", "scope": "", "scopeKind": ""}, {"name": "Optional[RecommendResponse] _maybe_generate_with_openai(req: RecommendRequest)", "description": "Attempts to obtain recommendations from OpenAI API if configured; falls back to None if any error occurs.", "scope": "", "scopeKind": ""}, {"name": "health_alias()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "health_check()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "RecommendResponse post_recommend(payload: RecommendRequest)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["load_dotenv()", "os.getenv()", "httpx.Client()", "uvicorn.run()", "health_check()", "health_alias()", "post_recommend()"], "search-terms": ["FastAPI", "recommendation", "skill", "LLM", "deterministic", "OpenAI", "health", "recommend"], "state": 2, "file_id": 3, "knowledge_revision": 11, "git_revision": "c11920d4a14c0dcb0febfe998edf5cef360f6fb4", "revision_history": [{"9": "070374ac438bdbd7bdd97ca50a20a8bdf2a9fc88"}, {"10": "c11920d4a14c0dcb0febfe998edf5cef360f6fb4"}, {"11": "c11920d4a14c0dcb0febfe998edf5cef360f6fb4"}], "ctags": [{"_type": "tag", "name": "RecommendRequest", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^class RecommendRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RecommendResponse", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^class RecommendResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_deterministic_fallback", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^def _deterministic_fallback(req: RecommendRequest) -> RecommendResponse:$/", "language": "Python", "typeref": "typename:RecommendResponse", "kind": "function", "signature": "(req: RecommendRequest)"}, {"_type": "tag", "name": "_json", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^            import json as _json$/", "file": true, "language": "Python", "kind": "namespace", "scope": "_maybe_generate_with_openai", "scopeKind": "function", "nameref": "module:json"}, {"_type": "tag", "name": "_maybe_generate_with_openai", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^def _maybe_generate_with_openai(req: RecommendRequest) -> Optional[RecommendResponse]:$/", "language": "Python", "typeref": "typename:Optional[RecommendResponse]", "kind": "function", "signature": "(req: RecommendRequest)"}, {"_type": "tag", "name": "_openai_enabled", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^def _openai_enabled() -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "health_alias", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^def health_alias():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^def health_check():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "port", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^        port = 8001$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "port_str", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^    port_str = os.getenv(\"PORT\", \"8001\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "post_recommend", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^def post_recommend(payload: RecommendRequest) -> RecommendResponse:$/", "language": "Python", "typeref": "typename:RecommendResponse", "kind": "function", "signature": "(payload: RecommendRequest)"}, {"_type": "tag", "name": "projects", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^    projects: List[str] = Field(..., description=\"Two practical project ideas.\")$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "RecommendResponse", "scopeKind": "class"}, {"_type": "tag", "name": "requiredLevel", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^    requiredLevel: Optional[str] = Field($/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "RecommendRequest", "scopeKind": "class"}, {"_type": "tag", "name": "resources", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^    resources: List[str] = Field(..., description=\"Three curated learning resources.\")$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "RecommendResponse", "scopeKind": "class"}, {"_type": "tag", "name": "skillDescription", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^    skillDescription: Optional[str] = Field($/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "RecommendRequest", "scopeKind": "class"}, {"_type": "tag", "name": "skillName", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^    skillName: str = Field(..., description=\"The name of the skill for which to generate recomme/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "RecommendRequest", "scopeKind": "class"}, {"_type": "tag", "name": "steps", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^    steps: List[str] = Field(..., description=\"Three concrete skill-improvement steps.\")$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "RecommendResponse", "scopeKind": "class"}], "hash": "e1ffb0bb9d8286b8b7ae6e71d3836b2f", "format-version": 4, "code-base-name": "llm_recommendation_service", "filename": "llm_recommendation_service/src/api/main.py", "fields": [{"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "port = 8001", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "port_str = os.getenv(\"PORT\", \"8001\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "List[str] projects", "scope": "RecommendResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] requiredLevel", "scope": "RecommendRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "List[str] resources", "scope": "RecommendResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] skillDescription", "scope": "RecommendRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "str skillName", "scope": "RecommendRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "List[str] steps", "scope": "RecommendResponse", "scopeKind": "class", "description": "unavailable"}]}
{"is_source_file": true, "format": "Python", "description": "This source file defines a FastAPI web service for skill recommendation generation. It includes data models for requests and responses, deterministic fallback logic, optional integration with OpenAI API for suggestions, health check endpoint, and main application setup.", "external_files": [".env"], "external_methods": ["load_dotenv", "httpx.Client"], "published": ["app", "RecommendRequest", "RecommendResponse"], "classes": [{"name": "RecommendRequest", "description": "Input payload for skill recommendation generation."}, {"name": "RecommendResponse", "description": "Recommendation response including steps, resources, and projects."}], "methods": [{"name": "RecommendResponse _deterministic_fallback(req: RecommendRequest)", "description": "Produces predictable, structured recommendations based on the input request.", "scope": "", "scopeKind": ""}, {"name": "bool _openai_enabled()", "description": "Checks if OpenAI API key is configured via environment variable.", "scope": "", "scopeKind": ""}, {"name": "Optional[RecommendResponse] _maybe_generate_with_openai(req: RecommendRequest)", "description": "Attempts to generate recommendations using OpenAI API if available and configured.", "scope": "", "scopeKind": ""}, {"name": "health_check()", "description": "Health/readiness endpoint to verify the service is operational.", "scope": "", "scopeKind": ""}, {"name": "RecommendResponse post_recommend(payload: RecommendRequest)", "description": "Main endpoint to generate recommendations, falling back to deterministic if OpenAI is unavailable or fails.", "scope": "", "scopeKind": ""}], "calls": ["load_dotenv", "httpx.Client", "uvicorn.run"], "search-terms": ["FastAPI", "recommendation service", "skill recommendation", "deterministic fallback", "OpenAI API integration", "health check", "/recommend endpoint"], "state": 2, "file_id": 3, "knowledge_revision": 10, "git_revision": "c11920d4a14c0dcb0febfe998edf5cef360f6fb4", "revision_history": [{"9": "070374ac438bdbd7bdd97ca50a20a8bdf2a9fc88"}, {"10": "c11920d4a14c0dcb0febfe998edf5cef360f6fb4"}], "ctags": [{"_type": "tag", "name": "RecommendRequest", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^class RecommendRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RecommendResponse", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^class RecommendResponse(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_deterministic_fallback", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^def _deterministic_fallback(req: RecommendRequest) -> RecommendResponse:$/", "language": "Python", "typeref": "typename:RecommendResponse", "kind": "function", "signature": "(req: RecommendRequest)"}, {"_type": "tag", "name": "_json", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^            import json as _json$/", "file": true, "language": "Python", "kind": "namespace", "scope": "_maybe_generate_with_openai", "scopeKind": "function", "nameref": "module:json"}, {"_type": "tag", "name": "_maybe_generate_with_openai", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^def _maybe_generate_with_openai(req: RecommendRequest) -> Optional[RecommendResponse]:$/", "language": "Python", "typeref": "typename:Optional[RecommendResponse]", "kind": "function", "signature": "(req: RecommendRequest)"}, {"_type": "tag", "name": "_openai_enabled", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^def _openai_enabled() -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^app = FastAPI($/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^def health_check():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "port", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^        port = 8001$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "port_str", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^    port_str = os.getenv(\"PORT\", \"8001\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "post_recommend", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^def post_recommend(payload: RecommendRequest) -> RecommendResponse:$/", "language": "Python", "typeref": "typename:RecommendResponse", "kind": "function", "signature": "(payload: RecommendRequest)"}, {"_type": "tag", "name": "projects", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^    projects: List[str] = Field(..., description=\"Two practical project ideas.\")$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "RecommendResponse", "scopeKind": "class"}, {"_type": "tag", "name": "requiredLevel", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^    requiredLevel: Optional[str] = Field($/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "RecommendRequest", "scopeKind": "class"}, {"_type": "tag", "name": "resources", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^    resources: List[str] = Field(..., description=\"Three curated learning resources.\")$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "RecommendResponse", "scopeKind": "class"}, {"_type": "tag", "name": "skillDescription", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^    skillDescription: Optional[str] = Field($/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "RecommendRequest", "scopeKind": "class"}, {"_type": "tag", "name": "skillName", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^    skillName: str = Field(..., description=\"The name of the skill for which to generate recomme/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "RecommendRequest", "scopeKind": "class"}, {"_type": "tag", "name": "steps", "path": "/home/kavia/workspace/code-generation/career-navigator-platform-209461-209473/llm_recommendation_service/src/api/main.py", "pattern": "/^    steps: List[str] = Field(..., description=\"Three concrete skill-improvement steps.\")$/", "language": "Python", "typeref": "typename:List[str]", "kind": "variable", "scope": "RecommendResponse", "scopeKind": "class"}], "hash": "d66a2b2c4aa7e2a031e30f269e624720", "format-version": 4, "code-base-name": "llm_recommendation_service", "filename": "llm_recommendation_service/src/api/main.py", "fields": [{"name": "app = FastAPI(", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "port = 8001", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "port_str = os.getenv(\"PORT\", \"8001\")", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "List[str] projects", "scope": "RecommendResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] requiredLevel", "scope": "RecommendRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "List[str] resources", "scope": "RecommendResponse", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] skillDescription", "scope": "RecommendRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "str skillName", "scope": "RecommendRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "List[str] steps", "scope": "RecommendResponse", "scopeKind": "class", "description": "unavailable"}]}